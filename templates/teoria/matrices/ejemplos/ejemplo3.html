{% extends 'baseejemplos.html' %}

{% load static %}

{% block styles %}
<link rel="stylesheet" href="{% static 'css/ejemplos.css' %}" type="text/css" media="all">
<link rel="stylesheet" href="{% static 'css/highlight/dark.css' %}" type="text/css" media="all">
{% endblock styles %}

{% block header %}
<ul class="left">
    <li><a href="{% url 'matrices_app:ejemplo1' %}">Ejemplo 1</a></li>
    <li><a href="{% url 'matrices_app:ejemplo2' %}">Ejemplo 2</a></li>
    <li><a href="{% url 'matrices_app:ejemplo3' %}">Ejemplo 3</a></li>
    <li><a href="{% url 'matrices_app:ejemplo4' %}">Ejemplo 4</a></li>
    <li><a href="{% url 'matrices_app:ejemplo5' %}">Ejemplo 5</a></li>
    <li><a href="{% url 'matrices_app:ejemplo6' %}">Ejemplo 6</a></li>
</ul>
<ul class="right">
    <li>
        <a href="{% url 'matrices_app:matrices' %}"><img src="{% static 'im/regreso.png' %}" style="margin-right: 3px;" class="mr-2">Regresar</a>
    </li>
</ul>
{% endblock header %}    

{% block content %}
<div class="row mx-auto content" id="content">
    <div class="col-md-12">
        <br>
        <br>
        <br>
    </div>
</div>
<section id="section">
    <div class="row mx-auto">
        <div class="col-md-12 text-center">
            <h1>Ejemplo #3</h1>
        </div>
    </div>
    <hr><br>
    <div class="row mx-auto" id="explain">
        <div class="col-md-8" id="enunciado">
            <h2>Enunciado</h2>
            <br>
            <p>
                Se requiere desarrollar programa que defina una matriz de números ingresados por teclado y calcule la 
                suma de los elementos que la componen, además debe de mostrar el resultado de esta suma.
            </p><br>
            <button href="#" id="empezar" class="btn btn-open2">Empezar proyecto</button>
        </div>
    </div>
    <div class="row mx-auto content desactivate" id="desarrollo">
        <div class="mx-auto col-md-5 mod1">
            <h3 class="text-center">Solución</h3>
            <pre id="code">
                <code class="language-c++">
    <span style="color: blue;"> 1 </span><span>filas = input('Ingrese el número de filas: ');</span>
    <span style="color: blue;"> 2 </span><span id="cont-higlight1" class="line-higlight"><span id="linea-higlight1"> </span><span id="linea-1" class="desactivate">columnas = input('Ingrese el número de columnas: ');</span></span>
    <span style="color: blue;"> 3 </span><span>A = zeros(filas);</span>
    <span style="color: blue;"> 4 </span><span>suma = 0;</span>
    <span style="color: blue;"> 5 </span><span>for i = 1:filas</span>
    <span style="color: blue;"> 6 </span><span id="cont-higlight2" class="line-higlight"><span id="linea-higlight2"> </span><span id="linea-2" class="desactivate">    for j = 1:columnas</span></span>
    <span style="color: blue;"> 7 </span><span>        A(i,j) = input('Ingrese un número: ');</span>
    <span style="color: blue;"> 8 </span><span>    end</span>
    <span style="color: blue;"> 9 </span><span id="cont-higlight3" class="line-higlight"><span id="linea-higlight3"> </span><span id="linea-3" class="desactivate">end</span></span>
    <span style="color: blue;">10 </span><span>disp(suma)</span>
                </code>
            </pre>
            <br>
            <div class="text-center desactivate" id="explain-code">
                <button href="#" id="code-explain" class="btn btn-open2">Explicar código</button>
            </div>
        </div>
        <div class="mx-auto col-md-5 desactivate mod1" id="explicacion">
            <h3 class="text-center">Explicación</h3>
            <pre>
                <code class="language-c++">
    <span style="color: blue;"> 1 </span><span>Se declara una variable en la cual se guarda el número de filas ingresadas por teclado por el usuario.</span>
    <span style="color: blue;"> 2 </span><span>Se declara una variable en la cual se guarda el número de columnas ingresadas por teclado por el usuario.</span>
    <span style="color: blue;"> 3 </span><span>Se declara una matriz de nombre A y se inicializa llenándola de ceros.</span>
    <span style="color: blue;"> 4 </span><span>Se declara una variable llamada suma la cuál va a almacenar la sumatoria de los elementos de la matriz y se iguala a cero para inicializarla.</span>
    <span style="color: blue;"> 5 </span><span>Se inicia el primer ciclo for con el indexador i el cual va a recorrer las filas.</span>
    <span style="color: blue;"> 6 </span><span>Se inicia el segundo ciclo for con el indexador j el cual va a recorrer las columnas.</span>
    <span style="color: blue;"> 7 </span><span>Se pone el nombre de la matriz junto con sus indexadores correspondientes y se iguala al comando que permite que el usuario ingrese el valor.</span>
    <span style="color: blue;"> 8 </span><span>Ahora se cierra el ciclo for de las columnas.</span>
    <span style="color: blue;"> 9 </span><span>Por último, se cierra el ciclo for de las filas.</span>
    <span style="color: blue;">10 </span><span>Además, se pone el comando disp con la variable que contiene la suma para que este la muestre.</span>
                </code>
            </pre>
            <br>
            <div class="text-md-center">
                <button href="#" class="btn btn-open2" id="reiniciar">Reiniciar</button>
            </div>
        </div>
    
    
        <div class="mx-auto col-md-5 mod1 text-center" id="form">
            <h3 id="linea">Linea #</h3>
            <br>
            <p id="explain_code" class="text-center"></p>
            <br>
            <form id="formulario" class="" action="">
                <div class="form-check">
                    <input class="form-check-input" type="radio" name="select" id="select1" value="1" checked>
                    <label class="form-check-label" for="select1" id="label1">
                    </label>
                </div>
                <div class="form-check">
                    <input class="form-check-input" type="radio" name="select" id="select2" value="2">
                    <label class="form-check-label" for="select2" id="label2">
                    </label>
                </div>
                <div class="form-check">
                    <input class="form-check-input" type="radio" name="select" id="select3" value="3">
                    <label class="form-check-label" for="select3" id="label3">
                    </label>
                </div>
                <div class="form-check">
                    <input class="form-check-input" type="radio" name="select" id="select4" value="4">
                    <label class="form-check-label" for="select4" id="label4">
                    </label>
                </div>
                <br><br>
                <button type="submit" class="btn btn-open2">Probar</button>
            </form>
        </div>
    
        <div class="desactivate mx-auto col-md-5 mod1 text-center" id="felicitacion">
            <h3>Felicitaciones</h3>
            <br>
            <p id="congratulation"></p>
            <br>
            <div id="siguiente_botones">
                <button href="#" class="btn btn-open2" id="sig_">Siguiente</button>
            </div>
        </div>
    </div>
    <div class="row mx-auto content desactivate" id="finish">
        <div class="mx-auto col-md-5">
            
        </div>
    </div>
</section>
{% endblock content %}
    
{% block scripts %}
<script>
    var cont = 1,
        num_total = 3

    var lineas = {
        '1': {
            'line_code':2,
            'correct_line':4,
            'congratulation':'Para pedir el número de columnas se debe igualar una variable a el comando que permite ingresar por teclado cualquier dato y mostrar un mensaje al tiempo, esto se hace con punto y coma, ya que de esta manera no se muestra el valor ingresado.',
            'explaincode':'Se debe pedir al usuario que ingrese por teclado el número de columnas de la matriz, ¿Qué línea de código viene aquí?',
            'values':['columnas = input "Ingrese el número de columnas: "','columnas = input();','columnas = input("Ingrese el número de columnas: ")','columnas = input("Ingrese el número de columnas: ");']
        },
        '2': {
            'line_code':6,
            'correct_line':2,
            'congratulation':'Para recorrer las columnas de una matriz, se debe poner un ciclo for que vaya desde 1 hasta el número de columnas ingresadas por el usuario, esto se hace sin punto y coma y sin nada al final.',
            'explaincode':'Se debe recorrer las columnas de la matriz utilizando un ciclo for, ¿Qué línea de código viene aquí?',
            'values':['for j = 1:10','for j = 1:columnas','for j = 1:columnas;','for j = 1:columnas:']
        },
        '3': {
            'line_code':9,
            'correct_line':3,
            'congratulation':'Para cerrar un ciclo se debe poner el comando end, esto se hace sin punto y coma y sin nada al final.',
            'explaincode':'Se debe cerrar el ciclo for principal el cual indexa las filas, ¿Qué línea de código viene aquí?',
            'values':['fin','end;','end','end:']
        }
    }

    var addLinesInitial = () => {
        $('#linea').text('Linea #' + lineas[cont].line_code)
        $('#explain_code').text(lineas[cont].explaincode)
        for (let i = 0; i < 4; i++) {
            var identificador = '#label'+ (i+1)
            const element = lineas[cont].values[i]
            $(identificador).text(element)
        }
    }

    $('#empezar').on('click', (e) => {
        e.preventDefault() //Para que al dar click no se recargue la pagina
        $('#explain').addClass('desactivate')
        $('#desarrollo').removeClass('desactivate')
        addLinesInitial()
    })

    $('#formulario').submit((e) =>  {
        e.preventDefault()
        var line = $('input[name="select"]:checked').val(),
            line_higlight = '#linea-higlight'+cont,
            line_activate = '#linea-'+cont,
            cont_higlight = '#cont-higlight'+cont

        if(lineas[cont].correct_line == parseInt(line)){
            $(line_higlight).toggle('')
            $(line_activate).toggle('')
            $('#formulario')[0].reset()
            cont++
            if(cont <= num_total){
                addLinesInitial()
                $(cont_higlight).removeClass('line-higlight')
                $('#congratulation').text(lineas[cont-1].congratulation)
            }else{
                $(cont_higlight).removeClass('line-higlight')
                // $('#form').toggle('')
                $('#explain-code').toggle('')
                $('#siguiente_botones').toggle('')
                $('#congratulation').text(lineas[cont-1].congratulation)
            }
            $('#felicitacion').toggle('')
            $('#form').toggle('')
        }else{
            alert("¿Estas seguro?... revisa bien")
        }
    })

    $('#sig_').on('click', (e) => {
        e.preventDefault()
        $('#form').toggle('')
        $('#felicitacion').toggle('')
    })

    $('#code-explain').on('click', (e) => {
        e.preventDefault()
        $('#explain-code').toggle('')
        $('#explicacion').toggle('')
        $('#felicitacion').toggle('')
    })

    $('#reiniciar').on('click', (e) => {
        e.preventDefault()
        location.reload()
    })
</script>
{% endblock scripts %}