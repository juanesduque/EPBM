{% extends 'baseejemplos.html' %}

{% load static %}

{% block styles %}
<link rel="stylesheet" href="{% static 'css/ejemplos.css' %}" type="text/css" media="all">
<link rel="stylesheet" href="{% static 'css/highlight/dark.css' %}" type="text/css" media="all">
{% endblock styles %}

{% block header %}
<ul class="left">
    <li><a href="{% url 'command_window_app:ejemplo1' %}">Ejemplo 1</a></li>
    <li><a href="{% url 'command_window_app:ejemplo2' %}">Ejemplo 2</a></li>
    <li><a href="{% url 'command_window_app:ejemplo3' %}">Ejemplo 3</a></li>
    <li><a href="{% url 'command_window_app:ejemplo4' %}">Ejemplo 4</a></li>
    <li><a href="{% url 'command_window_app:ejemplo5' %}">Ejemplo 5</a></li>
    <li><a href="{% url 'command_window_app:ejemplo6' %}">Ejemplo 6</a></li>
</ul>
<ul class="right">
    <li>
        <a href="{% url 'command_window_app:command_window' %}"><img src="{% static 'im/regreso.png' %}" style="margin-right: 3px;" class="mr-2">Regresar</a>
    </li>
</ul>
{% endblock header %}    

{% block content %}
<div class="row mx-auto content" id="content">
    <div class="col-md-12">
        <br>
        <br>
        <br>
    </div>
</div>
<section id="section">
    <div class="row mx-auto">
        <div class="col-md-12 text-center">
            <h1>Ejemplo #6</h1>
        </div>
    </div>
    <hr><br>
    <div class="row mx-auto" id="explain">
        <div class="col-md-8" id="enunciado">
            <h2>Enunciado</h2>
            <br>
            <p>
                Se requiere desarrollar un programa que resuelva una ecuación la cual tiene incluida unas variables 
                a las que antes se les asignó un valor, la idea es que el usuario pueda saber cuál es la mejor opción 
                para tener el resultado correcto. Además a este resultado se le debe de sumar 100 al final ya que de 
                esta manera se obtendrá el dato que se quiere.
            </p><br>
            <button href="#" id="empezar" class="btn btn-open2">Empezar proyecto</button>
        </div>
    </div>
    <div class="row mx-auto content desactivate" id="desarrollo">
        <div class="mx-auto col-md-5 mod1">
            <h3 class="text-center">Solución</h3>
            <pre id="code">
                <code class="language-c++">
    <span style="color: blue;">1 </span><span>a = 5;</span>
    <span style="color: blue;">2 </span><span>b = 1;</span>
    <span style="color: blue;">3 </span><span id="cont-higlight1" class="line-higlight"><span id="linea-higlight1"> </span><span id="linea-1" class="desactivate">c = 2;</span></span>
    <span style="color: blue;">4 </span><span>resultado = ((a + b) * c) / 10</span>
    <span style="color: blue;">5 </span><span id="cont-higlight2" class="line-higlight"><span id="linea-higlight2"> </span><span id="linea-2" class="desactivate">dato = resultado + 100</span></span>
                </code>
            </pre>
            <br>
            <div class="text-center desactivate" id="explain-code">
                <button href="#" id="code-explain" class="btn btn-open2">Explicar código</button>
            </div>
        </div>
        <div class="mx-auto col-md-5 desactivate mod1" id="explicacion">
            <h3 class="text-center">Explicación</h3>
            <pre>
                <code class="language-c++">
    <span style="color: blue;">1 </span><span>Se declara una variable con el valor correspondiente a cada una de ellas para que después pueda ser utilizado en la operación.</span>
    <span style="color: blue;">2 </span><span>Se declara una variable con el valor correspondiente a cada una de ellas para que después pueda ser utilizado en la operación.</span>
    <span style="color: blue;">3 </span><span>Se declara una variable con el valor correspondiente a cada una de ellas para que después pueda ser utilizado en la operación.</span>
    <span style="color: blue;">4 </span><span>Se escribe el nombre de una variable con el fin de que se guarde el resultado y se pone la operación deseada junto con las variables que esta utilice sin el punto y coma para que el resultado sea mostrado inmediatamente.</span>
    <span style="color: blue;">5 </span><span>Por último, al resultado se le suma 100 para obtener el dato real.</span>
                </code>
            </pre>
            <br>
            <div class="text-md-center">
                <button href="#" class="btn btn-open2" id="reiniciar">Reiniciar</button>
            </div>
        </div>
        <div class="mx-auto col-md-5 mod1 text-center" id="form">
            <h3 id="linea">Linea #</h3>
            <br>
            <p id="explain_code" class="text-center"></p>
            <br>
            <form id="formulario" class="" action="">
                <div class="form-check">
                    <input class="form-check-input" type="radio" name="select" id="select1" value="1" checked>
                    <label class="form-check-label" for="select1" id="label1">
                    </label>
                </div>
                <div class="form-check">
                    <input class="form-check-input" type="radio" name="select" id="select2" value="2">
                    <label class="form-check-label" for="select2" id="label2">
                    </label>
                </div>
                <div class="form-check">
                    <input class="form-check-input" type="radio" name="select" id="select3" value="3">
                    <label class="form-check-label" for="select3" id="label3">
                    </label>
                </div>
                <div class="form-check">
                    <input class="form-check-input" type="radio" name="select" id="select4" value="4">
                    <label class="form-check-label" for="select4" id="label4">
                    </label>
                </div>
                <br><br>
                <button type="submit" class="btn btn-open2">Probar</button>
            </form>
        </div>
    
        <div class="desactivate mx-auto col-md-5 mod1 text-center" id="felicitacion">
            <h3>Felicitaciones</h3>
            <br>
            <p id="congratulation"></p>
            <br>
            <div id="siguiente_botones">
                <button href="#" class="btn btn-open2" id="sig_">Siguiente</button>
            </div>
        </div>
    </div>
    <div class="row mx-auto content desactivate" id="finish">
        <div class="mx-auto col-md-5">
            
        </div>
    </div>
</section>
{% endblock content %}
    
{% block scripts %}
<script>
    var cont = 1,
        num_total = 2

    var lineas = {
        '1': {
            'line_code':3,
            'correct_line':1,
            'congratulation':'Para declarar una variable con un valor, se pone su nombre y se iguala al valor que se desea, además esto debe de ir con el punto y coma para que no muestre el valor de la variable.',
            'explaincode':'Se debe dar un valor de dos a la variable, ya que posteriormente este valor será utilizado en la operación, ¿Qué línea de código viene aquí?',
            'values':['c = 2;','2','c = 2','c']
        },
        '2': {
            'line_code':5,
            'correct_line':3,
            'congratulation':'Para hacer una operación, basta con poner una variable para que se guarde el resultado, aunque también se puede sin la variable, y posteriormente poner la operación con las variables que esta tenga sin el punto y coma para que muestre el resultado de manera inmediata.',
            'explaincode':'Se debe realizar la operación para que el usuario pueda observar el dato real, ¿Qué línea de código viene aquí?',
            'values':['dato = 100','dato = resultado + 100;','dato = resultado + 100','resultado + 100']
        }
    }

    var addLinesInitial = () => {
        $('#linea').text('Linea #' + lineas[cont].line_code)
        $('#explain_code').text(lineas[cont].explaincode)
        for (let i = 0; i < 4; i++) {
            var identificador = '#label'+ (i+1)
            const element = lineas[cont].values[i]
            $(identificador).text(element)
        }
    }

    $('#empezar').on('click', (e) => {
        e.preventDefault() //Para que al dar click no se recargue la pagina
        $('#explain').addClass('desactivate')
        $('#desarrollo').removeClass('desactivate')
        addLinesInitial()
    })

    $('#formulario').submit((e) =>  {
        e.preventDefault()
        var line = $('input[name="select"]:checked').val(),
            line_higlight = '#linea-higlight'+cont,
            line_activate = '#linea-'+cont,
            cont_higlight = '#cont-higlight'+cont

        if(lineas[cont].correct_line == parseInt(line)){
            $(line_higlight).toggle('')
            $(line_activate).toggle('')
            $('#formulario')[0].reset()
            cont++
            if(cont <= num_total){
                addLinesInitial()
                $(cont_higlight).removeClass('line-higlight')
                $('#congratulation').text(lineas[cont-1].congratulation)
            }else{
                $(cont_higlight).removeClass('line-higlight')
                // $('#form').toggle('')
                $('#explain-code').toggle('')
                $('#siguiente_botones').toggle('')
                $('#congratulation').text(lineas[cont-1].congratulation)
            }
            $('#felicitacion').toggle('')
            $('#form').toggle('')
        }else{
            alert("¿Estas seguro?... revisa bien")
        }
    })

    $('#sig_').on('click', (e) => {
        e.preventDefault()
        $('#form').toggle('')
        $('#felicitacion').toggle('')
    })

    $('#code-explain').on('click', (e) => {
        e.preventDefault()
        $('#explain-code').toggle('')
        $('#explicacion').toggle('')
        $('#felicitacion').toggle('')
    })

    $('#reiniciar').on('click', (e) => {
        e.preventDefault()
        location.reload()
    })
</script>
{% endblock scripts %}